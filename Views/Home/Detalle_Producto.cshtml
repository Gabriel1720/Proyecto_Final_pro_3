@model Proyecto_final_pro_3.Models.Carrito

@{
    ViewData["Title"] = "second Page";

    if (ViewBag.userID != null)
    {
        Layout = "~/Views/Shared/_LayoutLogged.cshtml";

    }
}

<div class="container-fluid">
    <div class="row" style="margin-top: 5%;">

        <div class="d-inline-block" style="margin-left: 18%;">

            <img src="@ViewBag.Producto.Foto" style="width:200px; height:200px;">
        </div>

        <div class="d-inline-block col-12 col-md-6 mt-3 mt-md-0" style="padding-left: 4%;">

            <h2 class="">@ViewBag.Producto.Nombre</h2>
            <br />
            <p class="h5 font-weight-normal">@ViewBag.Producto.Descripcion</p>
            <br />
            <div class="" style="position:relative;">
                <p class="h5 d-inline-block"><strong>RD$ @ViewBag.Producto.Precio</strong></p>     
                <form asp-controller="Home" method="post">
                    <strong>Cantidad: </strong>
                    <select name="Cantidad">
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                        <option value="5">5</option>
                    </select>
                     <input type="number"  value="@ViewBag.Producto.IdProducto" name="IdProducto" class="d-none"/>
                    <br />
                    <button type="submit" asp-action="Comprar" class="btn border-0  mt-4 mb-5 px-4 py-2 d-inline-block " style="background: #FD5924; color: #fff;">Comprar ahora </button>
                    <button type="submit" asp-action="addCarrito" class="btn border-0  mt-4 mb-5 px-4  py-2  d-inline-block" style="background: #85E30C; color: #fff; margin-left: 7%;">Añadir al carrito</button>
                </form>
            
            </div>
            
        </div>
    </div>
</div>

<div class="padre d-flex align-items-center justify-content-center" style="height:170px;">
    <p class="display-4 text-center" style="color: #FF6F41;">Productos similares</p>
</div>

<div class="container mt-5 mb-5">
    <div class="owl-carousel">

        @foreach (Producto producto in ViewBag.Productos)
        {
          
            <div class="item" style="position: relative;">
                <div class="px-sm-4 pt-2" style="height: 350px;width:220px ;">
                    <div class="" style="height: 45%;">
                        <img src="@producto.Foto" class="img-fluid img-center" alt="">
                    </div>
                    <div class="text-center pt-sm-2" style="height: 30%;">
                        @{
                            string srt = producto.Nombre;
                            if (srt.Length >= 38)
                            {
                                srt = srt.Substring(0, 33) + "...";
                                <p>@srt</p>
                            }
                            else if (srt.Length <= 22)
                            {
                                <p>@producto.Nombre</p>
                                <br />
                            }
                            else
                            {
                                <p>@producto.Nombre</p>
                            }
                        }
                        <h4>@producto.Precio $</h4>
                        <br />
                    </div>
                    <div class="m-auto" style="height: 25%;">
                        <a class="btn btn-outline-oscuro btn-block btn-sm" asp-route-id="@producto.IdProducto" asp-controller="Home" asp-action="Detalle_Producto">Comprar ahora</a>
                    </div>
                </div>
            </div>
          
        }

    </div>
</div>

